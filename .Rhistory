head(airqual)
airquality <- read.csv("AirQualityUCI.csv", sep=";")
datetime <- with(airquality, ymd(as.Date(airquality$Date,format="%Y/%m/%d")) + hms(gsub("\\.", ":", airquality$Time)))
airquality <- cbind(datetime = datetime, airquality)
airquality <- airquality %>% subset(select = -c(Time, Date, X, X.1))
airquality$CO.GT. <- as.integer(round(as.numeric(gsub("\\,", ".", airquality$CO.GT.)), digits=0))
airquality$PT08.S1.CO. <- factor(airquality$PT08.S1.CO.)
airquality$C6H6.GT. <- as.numeric(gsub("\\,", ".", airquality$C6H6.GT.))
airquality$PT08.S2.NMHC. <- factor(airquality$PT08.S2.NMHC.)
airquality$PT08.S3.NOx. <- factor(airquality$PT08.S3.NOx.)
airquality$PT08.S4.NO2. <- factor(airquality$PT08.S4.NO2.)
airquality$PT08.S5.O3. <- factor(airquality$PT08.S5.O3.)
airquality$T <- as.numeric(gsub("\\,", ".", airquality$T))
airquality$RH <- as.numeric(gsub("\\,", ".", airquality$RH))
airquality$AH <- as.numeric(gsub("\\,", ".", airquality$AH))
airquality <- airquality %>%
drop_na(datetime)
airquality <- airquality[!duplicated(airquality$datetime), ]
summary(airquality)
head(airquality)
airqual <- as_tsibble(airquality)
head(airqual)
airqual <- as_tsibble(airquality)
head(airqual)
airqual %>%
ggplot(aes(CO.Gt.)) +
geom_histogram(aes(y = ..density..), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual <- as_tsibble(airquality)
head(airqual)
airqual %>%
autoplot(vars(CO.GT.))
options(contrasts = c("contr.sum", "contr.poly"))
require("ggplot2")
require("dplyr")
require("ppcor")
require("caret")
require("tidyr")
require("stringr")
require("lubridate")
require("tsibble")
require("fable")
airqual <- as_tsibble(airquality)
head(airqual)
airqual %>%
ggplot(aes(CO.Gt.)) +
geom_histogram(aes(y = ..density..), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
airqual %>%
autoplot(CO.GT.)
knitr::opts_chunk$set(echo = TRUE)
options(contrasts = c("contr.sum", "contr.poly"))
require("ggplot2")
require("dplyr")
require("ppcor")
require("caret")
require("tidyr")
require("stringr")
require("lubridate")
require("tsibble")
require("ggfortify")
airquality <- read.csv("AirQualityUCI.csv", sep=";")
datetime <- with(airquality, ymd(as.Date(airquality$Date,format="%Y/%m/%d")) + hms(gsub("\\.", ":", airquality$Time)))
airquality <- cbind(datetime = datetime, airquality)
airquality <- airquality %>% subset(select = -c(Time, Date, X, X.1))
airquality$CO.GT. <- as.integer(round(as.numeric(gsub("\\,", ".", airquality$CO.GT.)), digits=0))
airquality$PT08.S1.CO. <- factor(airquality$PT08.S1.CO.)
airquality$C6H6.GT. <- as.numeric(gsub("\\,", ".", airquality$C6H6.GT.))
airquality$PT08.S2.NMHC. <- factor(airquality$PT08.S2.NMHC.)
airquality$PT08.S3.NOx. <- factor(airquality$PT08.S3.NOx.)
airquality$PT08.S4.NO2. <- factor(airquality$PT08.S4.NO2.)
airquality$PT08.S5.O3. <- factor(airquality$PT08.S5.O3.)
airquality$T <- as.numeric(gsub("\\,", ".", airquality$T))
airquality$RH <- as.numeric(gsub("\\,", ".", airquality$RH))
airquality$AH <- as.numeric(gsub("\\,", ".", airquality$AH))
airquality <- airquality %>%
drop_na(datetime)
# Remove duplicates by single column (tsibble dosen't like duplicates)
airquality <- airquality[!duplicated(airquality$datetime), ]
summary(airquality)
head(airquality)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
airqual %>%
autoplot(CO.GT.)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
airqual %>%
autoplot(vars(CO.GT.)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
airqual %>%
autoplot(vars(CO.GT.))
knitr::opts_chunk$set(echo = TRUE)
options(contrasts = c("contr.sum", "contr.poly"))
require("ggplot2")
require("dplyr")
require("ppcor")
require("caret")
require("tidyr")
require("stringr")
require("lubridate")
require("tsibble")
require("ggfortify")
airquality <- read.csv("AirQualityUCI.csv", sep=";")
datetime <- with(airquality, ymd(as.Date(airquality$Date,format="%Y/%m/%d")) + hms(gsub("\\.", ":", airquality$Time)))
airqual <- as_tsibble(airquality, index = datetime)
airquality <- read.csv("AirQualityUCI.csv", sep=";")
datetime <- with(airquality, ymd(as.Date(airquality$Date,format="%Y/%m/%d")) + hms(gsub("\\.", ":", airquality$Time)))
airquality <- cbind(datetime = datetime, airquality)
airquality <- airquality %>% subset(select = -c(Time, Date, X, X.1))
airquality$CO.GT. <- as.integer(round(as.numeric(gsub("\\,", ".", airquality$CO.GT.)), digits=0))
airquality$PT08.S1.CO. <- factor(airquality$PT08.S1.CO.)
airquality$C6H6.GT. <- as.numeric(gsub("\\,", ".", airquality$C6H6.GT.))
airquality$PT08.S2.NMHC. <- factor(airquality$PT08.S2.NMHC.)
airquality$PT08.S3.NOx. <- factor(airquality$PT08.S3.NOx.)
airquality$PT08.S4.NO2. <- factor(airquality$PT08.S4.NO2.)
airquality$PT08.S5.O3. <- factor(airquality$PT08.S5.O3.)
airquality$T <- as.numeric(gsub("\\,", ".", airquality$T))
airquality$RH <- as.numeric(gsub("\\,", ".", airquality$RH))
airquality$AH <- as.numeric(gsub("\\,", ".", airquality$AH))
airquality <- airquality %>%
drop_na(datetime)
# Remove duplicates by single column (tsibble dosen't like duplicates)
airquality <- airquality[!duplicated(airquality$datetime), ]
summary(airquality)
head(airquality)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
weatherHistory %>%
ggplot(aes(T)) +
geom_histogram(aes(y = ..density..), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = ..density..), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
par(mfrow = c(4,4))
airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
par(mfrow = c(4,4))
airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
par(mfrow = c(4,4))
airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
knitr::opts_chunk$set(echo = TRUE)
airqual <- as_tsibble(airquality, index = datetime)
knitr::opts_chunk$set(echo = TRUE)
options(contrasts = c("contr.sum", "contr.poly"))
require("ggplot2")
require("dplyr")
require("ppcor")
require("caret")
require("tidyr")
require("stringr")
require("lubridate")
require("tsibble")
require("ggfortify")
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
par(mfrow = c(4,4))
airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
knitr::opts_chunk$set(echo = TRUE)
airqual <- as_tsibble(airquality, index = datetime)
knitr::opts_chunk$set(echo = TRUE)
options(contrasts = c("contr.sum", "contr.poly"))
require("ggplot2")
require("dplyr")
require("ppcor")
require("caret")
require("tidyr")
require("stringr")
require("lubridate")
require("tsibble")
require("ggfortify")
require("gridExtra")
airquality <- read.csv("AirQualityUCI.csv", sep=";")
datetime <- with(airquality, ymd(as.Date(airquality$Date,format="%Y/%m/%d")) + hms(gsub("\\.", ":", airquality$Time)))
airquality <- cbind(datetime = datetime, airquality)
airquality <- airquality %>% subset(select = -c(Time, Date, X, X.1))
airquality$CO.GT. <- as.integer(round(as.numeric(gsub("\\,", ".", airquality$CO.GT.)), digits=0))
airquality$PT08.S1.CO. <- factor(airquality$PT08.S1.CO.)
airquality$C6H6.GT. <- as.numeric(gsub("\\,", ".", airquality$C6H6.GT.))
airquality$PT08.S2.NMHC. <- factor(airquality$PT08.S2.NMHC.)
airquality$PT08.S3.NOx. <- factor(airquality$PT08.S3.NOx.)
airquality$PT08.S4.NO2. <- factor(airquality$PT08.S4.NO2.)
airquality$PT08.S5.O3. <- factor(airquality$PT08.S5.O3.)
airquality$T <- as.numeric(gsub("\\,", ".", airquality$T))
airquality$RH <- as.numeric(gsub("\\,", ".", airquality$RH))
airquality$AH <- as.numeric(gsub("\\,", ".", airquality$AH))
airquality <- airquality %>%
drop_na(datetime)
# Remove duplicates by single column (tsibble dosen't like duplicates)
airquality <- airquality[!duplicated(airquality$datetime), ]
summary(airquality)
head(airquality)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
p_T <- airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
p_T <- airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH,
layout_matrix  = matrix(c(1,1,1,1), ncol = 2, byrow = T))
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
p_T <- airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
#hist_dens <- function()
p_T <- airqual %>%
ggplot(aes("T")) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
#hist_dens <- function()
p_T <- airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
hist_dens <- function(fact_n) {
airqual %>%
ggplot(aes(fact_n)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
}
p_T <- hist_dens(T)
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
hist_dens <- function(fact_n) {
tmp <- airqual %>%
ggplot(aes(fact_n)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
return(tmp)
}
p_T <- hist_dens(T)
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
hist_dens <- function(fact_n) {
tmp <- airqual %>%
ggplot(aes(fact_n)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
return(tmp)
}
p_T <- hist_dens("T")
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
hist_dens <- function(data, fact_n) {
tmp <- data %>%
ggplot(aes(fact_n)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
return(tmp)
}
p_T <- hist_dens(airqual, "T")
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
# hist_dens <- function(data, fact_n) {
#   tmp <- data %>%
#   ggplot(aes(fact_n)) +
#   geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
#   stat_density(kernel = "gaussian", fill = NA, colour = "black")
#   return(tmp)
# }
p_T <- airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
hist_dens <- function(data, fact_n) {
tmp <- data %>%
ggplot(aes({{fact_n}})) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
return(tmp)
}
p_T <- airqual %>%
ggplot(aes(T)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_T <- hist_dens(airqual, T)
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
hist_dens <- function(data, fact_n) {
tmp <- data %>%
ggplot(aes({{fact_n}})) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
return(tmp)
}
p_T <- hist_dens(airqual, T)
p_RH <- airqual %>%
ggplot(aes(RH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
p_AH <- airqual %>%
ggplot(aes(AH)) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
airqual <- as_tsibble(airquality, index = datetime)
head(airqual)
#airqual %>%
#  autoplot(vars(CO.GT.))
hist_dens <- function(data, fact_n) {
tmp <- data %>%
ggplot(aes({{fact_n}})) +
geom_histogram(aes(y = after_stat(density)), fill = "white", color="black") +
stat_density(kernel = "gaussian", fill = NA, colour = "black")
return(tmp)
}
p_T <- hist_dens(airqual, T)
p_RH <- hist_dens(airqual, RH)
p_AH <- hist_dens(airqual, AH)
gridExtra::grid.arrange(p_T, p_RH, p_AH, ncol = 2)
